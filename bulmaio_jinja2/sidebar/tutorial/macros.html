{% from 'sidebar/page/macros.html' import published, prev_next, references %}


# Used for the compact listing in the sidebar
{% macro sidebar_panel(steps_sidebar_panel) %}
    {% if steps_sidebar_panel.entries %}
        <div class="bio-tutorial-steps-sidebar">
            <p class="menu-label"
               style="margin-top: 1rem">
                Steps
            </p>
            <ul class="steps has-content-centered is-vertical is-small">
                {% for entry in steps_sidebar_panel.entries %}
                    {% set marker = 'is-info' if entry.is_active else 'is-primary' %}

                    <li class="steps-segment {{ 'is-active' if entry.is_active else '' }}">
                        <a href="{{ entry.href }}" class="has-text-dark">
                            <span class="steps-marker {{ marker }}">{{ loop.index }}</span>
                            <div class="steps-content">
                                <p>{{ entry.title }}</p>
                            </div>
                        </a>
                    </li>
                {% endfor %}
            </ul>
        </div>
    {% endif %}
{% endmacro %}

{% macro sidebar_tutorial (tutorial_sidebar) %}
    {% set ts = tutorial_sidebar %}
    <aside class="bd-side bio-page-sidebar">
        {{ published (tutorial_sidebar.published) }}
        {{ prev_next (tutorial_sidebar.prev_next) }}
        {{ references (tutorial_sidebar.references) }}
        {{ sidebar_panel (tutorial_sidebar.steps) }}
    </aside>
{% endmacro %}